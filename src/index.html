<html>
  <meta charset="UTF-8">
  <head>
    <script type="text/javascript" src="js/jquery-3.3.1.min.js"></script>
    <script type="text/javascript" src="js/jquery-linedtextarea.js"></script>
    <script type="text/javascript" src="js/cbi.js"></script>
    <link href="css/jquery-linedtextarea.css" type="text/css" rel="stylesheet" />
<style>
button {
  border-radius: 4px;
  margin: 2px;
}

.buttonVert {
  display: inline-block;
  padding: 2px 4px;
  margin: 3px 2px;
  font-size: 16px;
  cursor: pointer;
  text-align: center;
  text-decoration: none;
  outline: none;
  color: #fff;
  background-color: #85db85;
  border: none;
  border-radius: 5px;
  box-shadow: 2px 2px #999;
}

.buttonVert:hover {background-color: #52c452}

.buttonVert:active {
  background-color: #52c452;
  box-shadow: 0 0 #666;
  transform: translateY(2px) translateX(2px);
}
</style>
  </head>
  <body style="background-color: lightsteelblue">
    <div style="text-align: center">
      <div>
        <i><script type="text/javascript">document.write(cbiGetVersion(true));</script></i><br>
        by <b>Krevo_ </b><br><br>

        <canvas id="canvas1" width="508" height="252"></canvas>
        <canvas id="canvas2" width="508" height="252"></canvas>
       <br>
        <div style="display: block; padding-bottom: 4px;" >
         <!-- onclick="calcKeyDown(79); setTimeout(calcKeyUp, 200)" -->
         <button class="buttonVert" onmousedown="calcKeyDown(79)" onmouseup="calcKeyUp()" >F1</button>
         <button class="buttonVert" onmousedown="calcKeyDown(69)" onmouseup="calcKeyUp()" >F2</button>
         <button class="buttonVert" onmousedown="calcKeyDown(59)" onmouseup="calcKeyUp()" >F3</button>
         <button class="buttonVert" onmousedown="calcKeyDown(49)" onmouseup="calcKeyUp()" >F4</button>
         <button class="buttonVert" onmousedown="calcKeyDown(39)" onmouseup="calcKeyUp()" >F5</button>
         <button class="buttonVert" onmousedown="calcKeyDown(29)" onmouseup="calcKeyUp()" >F6</button>
         <button class="buttonVert" onmousedown="calcKeyDown(38)" onmouseup="calcKeyUp()" >←</button>
         <button class="buttonVert" onmousedown="calcKeyDown(28)" onmouseup="calcKeyUp()" >↑</button>
         <button class="buttonVert" onmousedown="calcKeyDown(37)" onmouseup="calcKeyUp()" >↓</button>
         <button class="buttonVert" onmousedown="calcKeyDown(27)" onmouseup="calcKeyUp()" >→</button>
        <br>
         <button class="buttonVert" onmousedown="calcKeyDown(71)" onmouseup="calcKeyUp()" >0</button>
         <button class="buttonVert" onmousedown="calcKeyDown(72)" onmouseup="calcKeyUp()" >1</button>
         <button class="buttonVert" onmousedown="calcKeyDown(62)" onmouseup="calcKeyUp()" >2</button>
         <button class="buttonVert" onmousedown="calcKeyDown(52)" onmouseup="calcKeyUp()" >3</button>
         <button class="buttonVert" onmousedown="calcKeyDown(73)" onmouseup="calcKeyUp()" >4</button>
         <button class="buttonVert" onmousedown="calcKeyDown(63)" onmouseup="calcKeyUp()" >5</button>
         <button class="buttonVert" onmousedown="calcKeyDown(53)" onmouseup="calcKeyUp()" >6</button>
         <button class="buttonVert" onmousedown="calcKeyDown(74)" onmouseup="calcKeyUp()" >7</button>
         <button class="buttonVert" onmousedown="calcKeyDown(64)" onmouseup="calcKeyUp()" >8</button>
         <button class="buttonVert" onmousedown="calcKeyDown(54)" onmouseup="calcKeyUp()" >9</button>
        <br>
         <button class="buttonVert" onmousedown="calcKeyDown(61)" onmouseup="calcKeyUp()" >.</button>
         <button class="buttonVert" onmousedown="calcKeyDown(42)" onmouseup="calcKeyUp()" >+</button>
         <button class="buttonVert" onmousedown="calcKeyDown(32)" onmouseup="calcKeyUp()" >-</button>
         <button class="buttonVert" onmousedown="calcKeyDown(43)" onmouseup="calcKeyUp()" >×</button>
         <button class="buttonVert" onmousedown="calcKeyDown(33)" onmouseup="calcKeyUp()" >÷</button>
         <button class="buttonVert" onmousedown="calcKeyDown(44)" onmouseup="calcKeyUp()" >DEL</button>
         <button class="buttonVert" onmousedown="calcKeyDown(31)" onmouseup="calcKeyUp()" >Exe</button>
        </div>
         <button class="" onclick="chooseColorScheme('black&white');">Black/White</button>
         <button class="" onclick="chooseColorScheme('blue&green');">Blue/Green</button>
         <button class="" onclick="swap();">G ↔ T</button>
         <button class="buttonVert" style="display: none;" onclick="clignoteCurseurGraphOn();">Clignote</button>
       <br><br>
         <center>
          <table><tr><td>
          <textarea id="srcCode" class="lined" cols="80" rows="15">
          </textarea>
          </td></tr></table>
         </center>
        
        <textarea style="display: none" id="srcCode0">
""
""
""
"    Hello World !"
        </textarea>
        <textarea style="display: none" id="srcCode1">
5->A
Do
  Locate 6-A,6-A,A
  A-1->A
LpWhile A>0
Locate 6,6,"Ignition !"
        </textarea>
        <textarea style="display: none" id="srcCode2">
Range 1,10,0,10,1,0
Mcl:1->A:1->B
Lbl 1
Plot 1,A:Plot B,10:Line
Isz A:Isz B:A<>11=>Goto 1
Mcl:1->A:10->B
Lbl 2
Plot A,10:Plot 10,B:Line
Isz A:Dsz B:Goto 2
Mcl:10->A:10->B
Lbl 3
Plot A,1:Plot 10,B:Line
Dsz A:Dsz B:Goto 3
Mcl:10->A:1->B
Lbl 4
Plot A,1:Plot 1,B:Line
Isz B:Dsz A:Goto 4
Cls:Mcl:Goto 1
        </textarea>
        <textarea style="display: none" id="srcCode3">
-500->A
Lbl 1
Range 1,127,0,1,63,0
Plot Ran#*127, Ran#*63
Isz A
Goto 1        
        </textarea>
        <textarea style="display: none" id="srcCode4">
Range 1,127,0,63,1,0
0->B
Lbl 1
0->A
Lbl 2
Int (Ran#*2)->C
Plot A*5,(B+C)*5
Plot (A+1)*5,(B+1-C)*5
Line
Isz A
A<26=>Goto 2
Isz B
B<14=>Goto 1       
       </textarea>
        <textarea style="display: none" id="srcCode5">
1->A
Do
  Locate 1,A,Ran#
  1+A->A
LpWhile A<=7
       </textarea>
        <textarea style="display: none" id="srcCode6">
"   CALCUL IMC"
"Poids (kg) "?->P
"Taille (m) "?->T
Int(P/(T*T)*100)/100
       </textarea>
        <textarea style="display: none" id="srcCode7">
# ---------------------
# CALENDRIER UNIVERSEL
# ---------------------

Prog 1

@@ Prog 1 ( )

Range 1,127,0,1,63,0 
Plot 76,8
Plot 76,55:Line
7->E
Lbl 4
Plot 10*E-4,8
Plot 10*E-4,55:Line
Plot 6,8*E-1
Plot 76,8*E-1:Line
Dsz E
Goto 4
7->E:0->C
Prog 7
"CALENDRIER UNIVERSEL"
Lbl 1
"ANNEE "?->Y
"MOIS "?->N
1->D
N<>Int (N)=>Goto 1
Y<>Int (Y)=>Goto 1
D<>Int (D)=>Goto 1
Int((14-N)/12)->C
Y-C->A
N+12*C-2->M
D+A+Int(A/4)-Int(A/100)+Int(A/400)+Int((31*M)/12)->J
J-Int(J/7)*7->P
P=0=>7->P
30->J
(N/2)<>Int (N/2)=>N<=7=>31->J
(N/2)=Int (N/2)=>N>=8=>31->J     
N=2=>28->J
N=2=>Frac(Y/4)=0=>Frac(Y/100)>0=>29->J
N=2=>Frac(Y/400)=0=>29->J
1->N
Lbl 5
N+P-1->O
Int ((O-1)/7)+2->E
O-(E-2)*7->D
8-E->E:Prog F
Int (N/10)->C
C<>0=>Prog G
C=0=>A+4->A
Frac (N/10)*10->C
Prog G
Isz N
N<=J=>Goto 5

@@ Prog 7 ( )

Text 3,10,"L"
Text 3,18,"M"
Text 3,28,"M"
Text 3,39,"J"
Text 3,49,"V"
Text 3,59,"S"
Text 3,69,"D"

@@ Prog F ( )

(D-1)*10+8-1->A
E*8+5->B

@@ Prog G ( )

Text 64-B,A,C
A+4->A
       </textarea>
        <textarea style="display: none" id="srcCode8">
# 
# CITY 
# 1 ou 2 Joueurs
# 
# VOUS ETES LE PERSONNAGE DE GAUCHE SUR L' ECRAN GRAPHIQUE. VOTRE BUT : TUER
# AVEC UN TIR DE MORTIER BIEN PLACE VOTRE ENNEMIE DE TOUJOURS 
# POUR CELA, VOUS DEVEZ INDIQUEZ L'ANGLE (EN DEGRE), PUIS LA FORCE DE TIR (ENTRE 50 ET 100 ENVIRON).
# --------------------

Prog 1

@@ Prog 1 ( ) 

Range 4,645,0,400,4,0
Deg
Mcl
10->D
Lbl 0
Int(Ran#*230)+170->E[D]
Dsz D
Goto 0
Prog 9
2->S:101->T:Prog 8
9->S:548->T:Prog 8
0->R
Lbl 5
"JOUEURS 1 2 "?->E
E<>1=>E<>2=>Goto 5
1->P
Plot X,Y
Lbl 1
P=1=>0.15->Q
P=2=>-0.15->Q
Plot X,Y:Line
Isz Z
"ANGLE "?->U
P=2=>-U->U
"FORCE "?->V
V*cos U->S
V*sin U->T
0->C
Lbl 2
C+Q->C
S*C+.5*R*C*C->A
P=1=>101+A->A
P=2=>548+A->A
E[7*P-5]+(.5*9.81*C*C)-50-T*C->B
Plot A,B
Int ((A-5)/64)+1->D
P=1=>A>533=>A<563=>B<E[D]=>B>E[D]-58=>Goto 4
P=2=>A>90=>A<111=>B<E[D]=>B>E[D]-58=>Goto 4
B<E[D]=>D>0=>D<11=>Goto 2
E=2=>3-P->P
Goto 1
Lbl 4
9->S:548->T
P=2=>2->S
P=2=>101->T
Prog Y
Plot X,Y:Line
"GAGNE"
E=1=>"PTS"
E=2=>"GAGNANT:"
E=1=>240-40*Z
E=2=>P
""

@@ Prog 8 ( ) 

16->D
Plot T-D,E[S]
Plot T,E[S]-25
Line
Plot T+D,E[S]
Line
Plot T-D,E[S]-32
Plot T+D,E[S]-32
Line
Plot T,E[S]-45
Plot T,E[S]-25
Line
Plot T,E[S]-45
Plot T-(D/3),Y
Line
Plot X,E[S]-58
Line
Plot T+(D/3),Y
Line
Plot X,E[S]-45
Line
Plot T,E[S]-45
Line

@@ Prog 9 ( ) 

Cls
0->D
Lbl 1
Isz D
64*(D-1)+5->W
Plot W,400
Plot W,E[D]
Line
Plot W+64,E[D]
Line
Plot W+64,400
Line
D<10=>Goto 1

@@ Prog Y ( )

Deg
-180->A
Lbl 1
Rec(45,A)
I+T->X
J+E[S]->Y
Plot X,Y
Plot T,E[S]
Line
15+A->A
A<=0=>Goto 1
       </textarea>
        <textarea style="display: none" id="srcCode9">
#
# POLYGONE REGULIER
#
Deg
Mcl
Range 1,127,0,1,63,0
" -- POLYGON -- "
"NB COTE "?->N
"RAYON (px) "?->r
360/N->A
Plot 64+r,32
0->θ
Lbl 1
θ+A->θ
Rec(r,θ)
Plot I+64,J+32
Line
θ<360=>Goto 1
       </textarea>
        <textarea style="display: none" id="srcCode10">
"Hello !"
"Have a break ?"◢
"Bye."
       </textarea>
        <textarea style="display: none" id="srcCode11">
Locate 3,4,"GetKey :"
Lbl 0
Getkey→Z
If Z≠O
Then Locate 12,4,"   "
IfEnd
Locate 12,4,Z
Z→O
Goto 0
       </textarea>
        <textarea style="display: none" id="srcCode12">
Locate 5,1,"== MENU =="
Locate 9,3,"Prog 1"
Locate 9,4,"Prog 2"
Locate 9,5,"Prog 3"
Locate 9,6,"Exit"

0->K
1->A
Lbl 1
GetKey->K
A->O
K=28=>A-1->A
K=37=>A+1->A
A>4=>1->A
A<1=>4->A
A<>O=>Locate 6,O+2,"  "
Locate 6,A+2,"=>"
K=31=>Goto 2
Goto 1
Lbl 2
ClrText
Locate 1,1,"You choose..."
A=1=>Locate 2,2,"... prog 1"
A=2=>Locate 2,2,"... prog 2"
A=3=>Locate 2,2,"... prog 3"
A=4=>Locate 2,2,"... to exit !"
       </textarea>
        <textarea style="display: none" id="srcCode13">
Text 10,15,"A"
Text 10,25,"B"
Text 10,35,"And"
Text 10,49,"Or"
Text 10,60,"Xor"
Text 10,75,"Not A"
Text 10,98,"Not B"

0->A
20->I
Do
0->B
Do
Text I,15,A
Text I,25,B
Text I,40,A And B
Text I,51,A Or B
Text I,63,A Xor B
Text I,82,Not A
Text I,105,Not B
I+7->I
B+1->B
LpWhile B<2
A+1->A
LpWhile A<2
       </textarea>
        <textarea style="display: none" id="srcCode14">
{0,1,2,3,4,5}->List 1
6->Dim List 2
Seq(X*X, X, 0, 5, 1->List 3
Locate 1,1,"List 1[6] = "
Locate 1,2,"List 2[6] = "
Locate 1,3,"List 3[6] = "
Locate 13,1,List 1[6]
Locate 13,2,List 2[6]
Locate 13,3,List 3[6]
       </textarea>
        <textarea style="display: none" id="srcCode15">
{1,2,3,4}->List 1
{7,8,9,10,11->List 2
7→Dim List 3
Locate 1,1,"Dim List 1 ="
Locate 1,2,"Dim List 2 ="
Locate 1,3,"Dim List 3 ="
Locate 14,1,Dim List 1
Locate 14,2,Dim List 2
Locate 14,3,Dim List 3
       </textarea>
        <textarea style="display: none" id="srcCode16">
Dim List 3_
List 3[4]_
26->List 3[4]
27->List 3[5]
File 2
15→Dim List 1
{4,3,2,1}->List 2
{5,3,2,1->List 3
Dim List 3_
List 3[4]_
26->List 3[4]
27->List 3[5]
File 1
List 3[4]_
       </textarea>
        <div id="status" style="color: red"></div>
        <button onclick="executeCode();">Execute !</button>
        <button onclick="stopCodeExecution()">STOP !</button>
        <br>
        <div style="display: none">
        Load raw content from URL : <input type="text" size="60" id="urlLoader">        
        <button onclick="loadFromUrl()">Load</button>
        <br>
        </div>
        <br>
 List of <a href="availablefunctions.html">currently implemented functions</a> (and list of <a href="knownproblems.html">known problems</a>)<br>
 Sample programs :<br>
        <button onclick="loadProg(0);">Hello World !</button>
        <button onclick="loadProg(1);">5,4,3,...</button>
        <button onclick="loadProg(2);">Screen saver</button>
        <button onclick="loadProg(3);">Random dots</button>
        <button onclick="loadProg(5);">Random num</button>
        <button onclick="loadProg(6);">IMC</button>
        <button onclick="loadProg(8);">City</button>
        <br>
        <button onclick="loadProg(4);">Maze generator</button>
        <button onclick="loadProg(7);">Calendrier</button>
        <button onclick="loadProg(9);">Polygon</button>
        <button onclick="loadProg(10);">Hello ◢</button>
        <button onclick="loadProg(11);">GetKey</button>
        <button onclick="loadProg(12);">Text Menu</button>
        <button onclick="loadProg(13);">Bool. table</button>
        <br>
        <button onclick="loadProg(14);">List 1</button>
        <button onclick="loadProg(15);">List 2</button>
        <button onclick="loadProg(16);">List 3</button>
        <br><br>
      </div>
    </div>
    <script type="text/javascript">

      function loadFromUrl() {
        var urlToLoad = document.getElementById("urlLoader").value;
        
        var request = new XMLHttpRequest();
        request.open('GET', urlToLoad, true);

        request.onreadystatechange = function() {
          if (this.readyState === 4) {
            if (this.status >= 200 && this.status < 400) {
              // Success!
              var srcCode = this.responseText;
              document.getElementById("srcCode").value = srcCode;
              executeCode();
            } else {
              document.getElementById("status").innerHTML = 'Unable to load content from Url !';
            }
          }
        };

        request.send();
        request = null;
      }

      function loadProg(progNumber) {
        stopCodeExecution();
        var srcCode = document.getElementById("srcCode"+progNumber).value;
        document.getElementById("srcCode").value = srcCode;
        executeCode();
      }

      function executeCode() {
        var srcCode = document.getElementById("srcCode").value;
        document.getElementById("canvas1").focus();
        document.getElementById("srcCode").disabled = true;
        document.getElementById("status").innerHTML = '';
        if (idTimerMain == 0) {
          jsccRun(srcCode, function(errorCode, msg, programs) {
              if (errorCode > 0) {
                  document.getElementById("status").innerHTML = msg;
              }
              document.getElementById("srcCode").disabled = false;
          });
        }
      }

      function stopCodeExecution() {
        finish(EXIT_STOPPED, "Stopped on user request.");
      }

      window.onload = function() {
          loadProg(0);
      }

$(function() {
	$(".lined").linedtextarea(
	);
});

      //executeCode();
    </script>
    <div style="text-align: right">
      <a href="https://twitter.com/Krevo_" class="twitter-follow-button" data-show-count="false">Follow @Krevo_</a>
      <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
    </div>

  </body>
</html>
